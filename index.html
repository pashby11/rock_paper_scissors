<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock! Paper! Scissors!</title>
</head>
<body>
    <script>
        
        
        function getComputerChoice() {
            choices = ['rock', 'paper', 'scissors'];
            randomIndex = Math.floor(Math.random()*3);
            return choices[randomIndex]
        }

        function getPlayerChoice() {
            playerInput = prompt("Please choose enter 'rock', 'paper' or 'scissors':");
            return playerInput.toLowerCase()
        }

        function playRound(playerSelection, computerSelection) {
            let playerWinIndicator = 0;
            let computerWinIndicator = 0;
            if ((playerSelection == 'rock' && computerSelection == 'scissors') ||
                (playerSelection == 'paper' && computerSelection == 'rock') ||
                (playerSelection == 'scissors' && computerSelection == 'paper')) {
                message = `Congrats you win!! ${playerSelection} beats ${computerSelection}!!`;
                playerWinIndicator = 1;
            } else if (playerSelection == computerSelection) {
                message = `It's a draw, you both chose ${playerSelection}!`;
            } else {
                message = `You lose :( ${computerSelection} beats ${playerSelection}!`;
                computerWinIndicator = 1;
            }
            return [message, playerWinIndicator, computerWinIndicator]
        }

        function playGame() {
       
        let playerWinCount = 0;
        let computerWinCount = 0;

        let computerSelection = getComputerChoice()
        let playerSelection = getPlayerChoice()
        let result = playRound(playerSelection, computerSelection)
        playerWinCount += result[1]
        computerWinCount += result[2]
        console.log(result[0])

        computerSelection = getComputerChoice()
        playerSelection = getPlayerChoice()
        result = playRound(playerSelection, computerSelection)
        playerWinCount += result[1]
        computerWinCount += result[2]
        console.log(result[0])

        computerSelection = getComputerChoice()
        playerSelection = getPlayerChoice()
        result = playRound(playerSelection, computerSelection)
        playerWinCount += result[1]
        computerWinCount += result[2]
        console.log(result[0])

        computerSelection = getComputerChoice()
        playerSelection = getPlayerChoice()
        result = playRound(playerSelection, computerSelection)
        playerWinCount += result[1]
        computerWinCount += result[2]
        console.log(result[0])

        computerSelection = getComputerChoice()
        playerSelection = getPlayerChoice()
        result = playRound(playerSelection, computerSelection)
        playerWinCount += result[1]
        computerWinCount += result[2]
        console.log(`${result[0]}`)
        if(playerWinCount>computerWinCount) {
            console.log(`Player wins with ${playerWinCount} victories`);
        } 
        else if(playerWinCount == computerWinCount) {
            console.log(`It's a tie`);
        }
        else {
            console.log(`Computer wins with ${computerWinCount} victories`)
        }
        }
        
        playGame()
        
    </script>
</body>
</html>